## Задача 1

Если не включен Free monitoring, то включаем:\
***db.enableFreeMonitoring()***

Для поиска проблемных запросов выполняем:\
***db.currentOp({"secs_running":{$gte:5}})***

Убиваем проблемные запросы:\
***db.killOp(opid)***

Cоздание индексов должно решить проблему зависающих запросов:\
***db.collection.createIndex()***


## Задача 2

Проблема может быть связана с использованием slow commands - из-за них происходит блокировка.

Также проблема может быть из-за включенного в ядре huge pages.

Еще проблема может быть сетевой - не хватает пропускной способности при увеличении кол-ва реплик.

## Задача 3

Если это сетевая проблема, то в первую очередь проверяем, как обстоят дела с нашей сетью.\
Если все ок, то в конфиге mysql прописываем net_read_timeout со значением больше дефолтного. Это поможет в случае передачи больших запросов.\
Если проблема не сетевая, а связанная с повышенной нагрузкой на сервер, то:
 - Увеличиваем значение connect_timeout, создаем индексы для ускорения запросов;
 - Добавляем ресурсы на сервер.

## Задача 4

Ошибка возникает из-за нехватки оперативной памяти.\
Можно сделать следующее:

- Зарезервировать память для процессов с указанием ее количества
- Увеличить размер swap
